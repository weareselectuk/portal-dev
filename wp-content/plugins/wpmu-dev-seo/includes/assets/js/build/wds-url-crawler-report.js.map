{"version":3,"sources":["../es6/wds-url-crawler-report.js"],"names":["$","URLCrawlerReportUI","get_open_section","data","find","is","new_markup","replaceWith","html","$context","closest","$group_container","$issue_container","length","$issues","issue_ids","each","index","issue","push","$target_el","addClass","prop","removeClass","$message","$tabs","prev","remove","insertBefore","$container","paths","$modal","get_dialog","$fields","$me","attr","val","dialog_id","dialog_el","dialog","A11yDialog","show","click","markup","is_valid","$form_field","$input","on","URLCrawlerReport","document","e","handle_ignore_single_action","handle_ignore_group_action","handle_ignore_all_action","handle_restore_single_action","handle_add_single_to_sitemap_action","handle_add_all_to_sitemap_action","handle_open_occurrences_dialog_action","handle_open_redirect_dialog_action","handle_save_redirect_action","templates","redirect_dialog","Wds","tpl_compile","template","occurrences_dialog","issue_occurrences","occurrences_request","Deferred","action","extend","_wds_nonce","_wds_sitemaps","nonce","post","ajaxurl","open_type","get_open_section_type","ignored_tab_open","is_ignored_tab_open","done","success","replace_report_markup","replace_summary_markup","summary_markup","unblock_ui","trigger","issue_id","status","parseInt","reload_report","change_issue_status","preventDefault","$target","target","get_issue_id","block_ui","ignore_issue","restore_issue","get_issue_ids","path","add_all_message","show_sitemap_message","get_sitemap_path","add_to_sitemap","get_sitemap_paths","deferred","response","state","occurrences","resolve","reject","fail","get_path","replace_dialog_markup","open_dialog","load_issue_occurrences","occurrences_markup","redirect_path","get_redirect_path","validate_dialog","redirect_data","get_redirect_data","always","close_dialog","window","jQuery"],"mappings":"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","sourcesContent":["(function ($) {\n\t/**\n\t * The class responsible for interaction with the crawl report UI. Changes to the markup should ideally affect this class only.\n\t */\n\tclass URLCrawlerReportUI {\n\t\tstatic get_open_section() {\n\t\t\treturn $('.sui-accordion-item--open');\n\t\t}\n\n\t\tstatic get_open_section_type() {\n\t\t\treturn URLCrawlerReportUI.get_open_section().data('type');\n\t\t}\n\n\t\tstatic is_ignored_tab_open() {\n\t\t\treturn URLCrawlerReportUI.get_open_section().find('[data-tabs] .active').is('.ignored');\n\t\t}\n\n\t\tstatic replace_report_markup(new_markup) {\n\t\t\t$('.wds-crawl-results-report').replaceWith(new_markup);\n\t\t}\n\n\t\tstatic replace_summary_markup(new_markup) {\n\t\t\t$('#wds-crawl-summary-container').html(new_markup);\n\t\t}\n\n\t\tstatic get_issue_id($context) {\n\t\t\treturn $context.closest('[data-issue-id]').data('issueId');\n\t\t}\n\n\t\tstatic get_path($context) {\n\t\t\treturn $context.closest('[data-path]').data('path');\n\t\t}\n\n\t\tstatic get_redirect_path($context) {\n\t\t\treturn $context.closest('[data-redirect-path]').data('redirectPath');\n\t\t}\n\n\t\tstatic get_issue_ids($context) {\n\t\t\tlet $group_container = $context.closest('.wds-crawl-issues-table'),\n\t\t\t\t$issue_container = $group_container.length\n\t\t\t\t\t? $group_container\n\t\t\t\t\t: $context.closest('.tab_url_crawler'),\n\t\t\t\t$issues = $issue_container.find('[data-issue-id]'),\n\t\t\t\tissue_ids = [];\n\n\t\t\t$issues.each(function (index, issue) {\n\t\t\t\tissue_ids.push($(issue).data('issueId'));\n\t\t\t});\n\n\t\t\treturn issue_ids;\n\t\t}\n\n\t\tstatic block_ui($target_el) {\n\t\t\tif ($target_el.closest('.wds-links-dropdown').length) {\n\t\t\t\t$target_el = $target_el.closest('.wds-links-dropdown').find('.sui-dropdown-anchor');\n\t\t\t}\n\n\t\t\tif ($target_el.is('.sui-button-onload')) {\n\t\t\t\t// Already blocked\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$target_el.addClass('sui-button-onload');\n\t\t\t$('.wds-disabled-during-request').prop('disabled', true);\n\t\t}\n\n\t\tstatic unblock_ui() {\n\t\t\t$('.wds-disabled-during-request').prop('disabled', false);\n\t\t\t$('.sui-button-onload').removeClass('sui-button-onload');\n\t\t}\n\n\t\tstatic show_sitemap_message($message, $context) {\n\t\t\tlet $tabs = $context.closest('.sui-tabs');\n\t\t\tif (!$tabs.length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$tabs.prev('.wds-notice').remove();\n\t\t\t$message.insertBefore($tabs);\n\t\t}\n\n\t\tstatic get_sitemap_path($context) {\n\t\t\treturn $context.closest('[data-issue-id]').data('path');\n\t\t}\n\n\t\tstatic get_sitemap_paths($context) {\n\t\t\tlet $container = $context.closest('.wds-crawl-issues-table'),\n\t\t\t\t$issues = $container.find('[data-issue-id]'),\n\t\t\t\tpaths = [];\n\n\t\t\t$issues.each(function (index, issue) {\n\t\t\t\tpaths.push($(issue).data('path'));\n\t\t\t});\n\n\t\t\treturn paths;\n\t\t}\n\n\t\tstatic get_dialog($context) {\n\t\t\treturn $context.closest('.sui-dialog');\n\t\t}\n\n\t\tstatic get_redirect_data($context) {\n\t\t\tlet $modal = URLCrawlerReportUI.get_dialog($context),\n\t\t\t\t$fields = $modal.find(\"input\"),\n\t\t\t\tdata = {};\n\n\t\t\t$fields.each(function () {\n\t\t\t\tlet $me = $(this);\n\t\t\t\tdata[$me.attr(\"name\")] = $me.val();\n\t\t\t});\n\n\t\t\treturn data;\n\t\t}\n\n\t\tstatic open_dialog(dialog_id) {\n\t\t\tlet dialog_el = $('#' + dialog_id),\n\t\t\t\tdialog = dialog_el.length\n\t\t\t\t\t? new A11yDialog(dialog_el[0])\n\t\t\t\t\t: false;\n\n\t\t\tif (dialog) {\n\t\t\t\tdialog.show();\n\t\t\t}\n\t\t}\n\n\t\tstatic close_dialog($context) {\n\t\t\tURLCrawlerReportUI.get_dialog($context).find(\".sui-dialog-close\").click();\n\t\t}\n\n\t\tstatic replace_dialog_markup(dialog, markup) {\n\t\t\t$('#' + dialog).replaceWith(markup);\n\t\t}\n\n\t\tstatic validate_dialog(dialog_id) {\n\t\t\tlet is_valid = true;\n\t\t\t$('.sui-form-field', $('#' + dialog_id)).each(function () {\n\t\t\t\tlet $form_field = $(this),\n\t\t\t\t\t$input = $('input', $form_field);\n\n\t\t\t\tif (!$input.val()) {\n\t\t\t\t\tis_valid = false;\n\t\t\t\t\t$form_field.addClass('sui-form-field-error');\n\n\t\t\t\t\t$input.on('focus keydown', function () {\n\t\t\t\t\t\t$(this).closest('.sui-form-field-error').removeClass('sui-form-field-error');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn is_valid;\n\t\t}\n\t}\n\n\t/**\n\t * The class containing the business logic for the crawl report.\n\t *\n\t * @see URLCrawlerReportUI\n\t */\n\tclass URLCrawlerReport {\n\t\tinit() {\n\t\t\t$(document)\n\t\t\t\t.on('click', '[href=\"#ignore\"]', (e) => this.handle_ignore_single_action(e))\n\t\t\t\t.on('click', '.wds-crawl-issues-table .wds-ignore-all', (e) => this.handle_ignore_group_action(e))\n\t\t\t\t.on('click', '.sui-box-header .wds-ignore-all', (e) => this.handle_ignore_all_action(e))\n\n\t\t\t\t.on('click', '.wds-ignored-items-table .wds-unignore', (e) => this.handle_restore_single_action(e))\n\n\t\t\t\t.on('click', '[href=\"#add-to-sitemap\"]', (e) => this.handle_add_single_to_sitemap_action(e))\n\t\t\t\t.on('click', '.wds-crawl-issues-table .wds-add-all-to-sitemap', (e) => this.handle_add_all_to_sitemap_action(e))\n\n\t\t\t\t.on('click', '[href=\"#occurrences\"]', (e) => this.handle_open_occurrences_dialog_action(e))\n\t\t\t\t.on('click', '[href=\"#redirect\"]', (e) => this.handle_open_redirect_dialog_action(e))\n\t\t\t\t.on('click', '.wds-submit-redirect', (e) => this.handle_save_redirect_action(e))\n\t\t\t;\n\n\t\t\tthis.templates = {\n\t\t\t\tredirect_dialog: Wds.tpl_compile(Wds.template('url_crawler', 'redirect_dialog')),\n\t\t\t\toccurrences_dialog: Wds.tpl_compile(Wds.template('url_crawler', 'occurrences_dialog')),\n\t\t\t\tissue_occurrences: Wds.tpl_compile(Wds.template('url_crawler', 'issue_occurrences'))\n\t\t\t};\n\t\t\tthis.occurrences_request = new $.Deferred();\n\t\t}\n\n\t\tpost(action, data) {\n\t\t\tdata = $.extend({\n\t\t\t\taction: action,\n\t\t\t\t_wds_nonce: _wds_sitemaps.nonce\n\t\t\t}, data);\n\n\t\t\treturn $.post(ajaxurl, data);\n\t\t}\n\n\t\treload_report() {\n\t\t\treturn this.post('wds-get-sitemap-report', {\n\t\t\t\topen_type: URLCrawlerReportUI.get_open_section_type(),\n\t\t\t\tignored_tab_open: URLCrawlerReportUI.is_ignored_tab_open() ? 1 : 0\n\t\t\t}).done(\n\t\t\t\t/**\n\t\t\t\t * @param {{summary_markup:string, markup:string}} data\n\t\t\t\t */\n\t\t\t\t(data) => {\n\t\t\t\t\tdata = (data || {});\n\t\t\t\t\tif (data.success && data.markup) {\n\t\t\t\t\t\tURLCrawlerReportUI.replace_report_markup(data.markup);\n\t\t\t\t\t\tURLCrawlerReportUI.replace_summary_markup(data.summary_markup);\n\t\t\t\t\t\tURLCrawlerReportUI.unblock_ui();\n\n\t\t\t\t\t\t$(this).trigger('wds_url_crawler_report:reloaded');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\n\t\tchange_issue_status(issue_id, action) {\n\t\t\treturn this.post(action, {issue_id: issue_id})\n\t\t\t\t.done((data) => {\n\t\t\t\t\tlet status = parseInt(\n\t\t\t\t\t\t(data || {}).status || '0',\n\t\t\t\t\t\t10\n\t\t\t\t\t);\n\t\t\t\t\tif (status > 0) {\n\t\t\t\t\t\tthis.reload_report();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\n\t\tignore_issue(issue_id) {\n\t\t\treturn this.change_issue_status(issue_id, 'wds-service-ignore');\n\t\t}\n\n\t\trestore_issue(issue_id) {\n\t\t\treturn this.change_issue_status(issue_id, 'wds-service-unignore');\n\t\t}\n\n\t\thandle_ignore_single_action(e) {\n\t\t\te.preventDefault();\n\n\t\t\tlet $target = $(e.target),\n\t\t\t\tissue_id = URLCrawlerReportUI.get_issue_id($target);\n\n\t\t\tURLCrawlerReportUI.block_ui($target);\n\n\t\t\treturn this.ignore_issue(issue_id);\n\t\t}\n\n\t\thandle_restore_single_action(e) {\n\t\t\te.preventDefault();\n\n\t\t\tlet $target = $(e.target),\n\t\t\t\tissue_id = URLCrawlerReportUI.get_issue_id($target);\n\n\t\t\tURLCrawlerReportUI.block_ui($target);\n\n\t\t\treturn this.restore_issue(issue_id);\n\t\t}\n\n\t\thandle_ignore_group_action(e) {\n\t\t\te.preventDefault();\n\n\t\t\tlet $target = $(e.target),\n\t\t\t\tissue_ids = URLCrawlerReportUI.get_issue_ids($target);\n\n\t\t\tURLCrawlerReportUI.block_ui($target);\n\n\t\t\treturn this.ignore_issue(issue_ids);\n\t\t}\n\n\t\thandle_ignore_all_action(e) {\n\t\t\te.preventDefault();\n\n\t\t\tlet $target = $(e.target),\n\t\t\t\tissue_ids = URLCrawlerReportUI.get_issue_ids($target);\n\n\t\t\tURLCrawlerReportUI.block_ui($target);\n\n\t\t\treturn this.ignore_issue(issue_ids);\n\t\t}\n\n\t\tadd_to_sitemap(path, $context) {\n\t\t\treturn this.post('wds-sitemap-add_extra', {path: path})\n\t\t\t\t.done(\n\t\t\t\t\t/**\n\t\t\t\t\t * @param {{status:string, add_all_message:string}} data\n\t\t\t\t\t */\n\t\t\t\t\t(data) => {\n\t\t\t\t\t\tdata = (data || {});\n\t\t\t\t\t\tlet status = parseInt(\n\t\t\t\t\t\t\tdata.status || '0',\n\t\t\t\t\t\t\t10\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (status > 0) {\n\t\t\t\t\t\t\tlet $message = $(data.add_all_message || '');\n\n\t\t\t\t\t\t\tURLCrawlerReportUI.show_sitemap_message($message, $context);\n\t\t\t\t\t\t\tURLCrawlerReportUI.unblock_ui();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t}\n\n\t\thandle_add_single_to_sitemap_action(e) {\n\t\t\te.preventDefault();\n\n\t\t\tlet $target = $(e.target),\n\t\t\t\tpath = URLCrawlerReportUI.get_sitemap_path($target);\n\n\t\t\tURLCrawlerReportUI.block_ui($target);\n\n\t\t\treturn this.add_to_sitemap(path, $target);\n\t\t}\n\n\t\thandle_add_all_to_sitemap_action(e) {\n\t\t\te.preventDefault();\n\n\t\t\tlet $target = $(e.target),\n\t\t\t\tpath = URLCrawlerReportUI.get_sitemap_paths($target);\n\n\t\t\tURLCrawlerReportUI.block_ui($target);\n\n\t\t\treturn this.add_to_sitemap(path, $target);\n\t\t}\n\n\t\tload_issue_occurrences(issue_id) {\n\t\t\tlet deferred = new $.Deferred();\n\n\t\t\tthis.post('wds-load-issue-occurrences', {\n\t\t\t\tissue_id: issue_id\n\t\t\t}).done((response) => {\n\t\t\t\tif (deferred.state() !== 'pending') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet success = (response || {}).success || false,\n\t\t\t\t\tdata = (response || {}).data || {};\n\n\t\t\t\tif (success && data.occurrences) {\n\t\t\t\t\tdeferred.resolve(data.occurrences);\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.reject();\n\t\t\t\t}\n\t\t\t}).fail(deferred.reject);\n\n\t\t\treturn deferred;\n\t\t}\n\n\t\thandle_open_occurrences_dialog_action(e) {\n\t\t\te.preventDefault();\n\t\t\t// Cancel the previous request if it's still in progress\n\t\t\tif (this.occurrences_request.state() === 'pending') {\n\t\t\t\tthis.occurrences_request.reject();\n\t\t\t}\n\n\t\t\tlet $target = $(e.target),\n\t\t\t\tissue_id = URLCrawlerReportUI.get_issue_id($target),\n\t\t\t\tpath = URLCrawlerReportUI.get_path($target),\n\t\t\t\tmarkup = this.templates.occurrences_dialog({\n\t\t\t\t\t'issue_id': issue_id,\n\t\t\t\t\t'issue_path': path,\n\t\t\t\t\t'issue_occurrences': ''\n\t\t\t\t});\n\n\t\t\tURLCrawlerReportUI.replace_dialog_markup('wds-issue-occurrences', markup);\n\t\t\tURLCrawlerReportUI.open_dialog('wds-issue-occurrences');\n\t\t\tthis.occurrences_request = this.load_issue_occurrences(issue_id)\n\t\t\t\t.done((occurrences) => {\n\t\t\t\t\tlet occurrences_markup = this.templates.issue_occurrences({\n\t\t\t\t\t\toccurrences: occurrences\n\t\t\t\t\t});\n\n\t\t\t\t\t$('#wds-issue-occurrences').find('.wds-issue-occurrences').html(occurrences_markup);\n\t\t\t\t});\n\t\t}\n\n\t\thandle_open_redirect_dialog_action(e) {\n\t\t\te.preventDefault();\n\n\t\t\tlet $target = $(e.target),\n\t\t\t\tissue_id = URLCrawlerReportUI.get_issue_id($target),\n\t\t\t\tpath = URLCrawlerReportUI.get_path($target),\n\t\t\t\tredirect_path = URLCrawlerReportUI.get_redirect_path($target),\n\t\t\t\tmarkup = this.templates.redirect_dialog({\n\t\t\t\t\t'issue_id': issue_id,\n\t\t\t\t\t'issue_path': path,\n\t\t\t\t\t'issue_redirect_path': redirect_path\n\t\t\t\t});\n\n\t\t\tURLCrawlerReportUI.replace_dialog_markup('wds-issue-redirect', markup);\n\t\t\tURLCrawlerReportUI.open_dialog('wds-issue-redirect');\n\t\t}\n\n\t\thandle_save_redirect_action(e) {\n\t\t\te.preventDefault();\n\n\t\t\tlet is_valid = URLCrawlerReportUI.validate_dialog('wds-issue-redirect');\n\t\t\tif (!is_valid) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet $target = $(e.target),\n\t\t\t\tissue_id = URLCrawlerReportUI.get_issue_id($target),\n\t\t\t\tredirect_data = URLCrawlerReportUI.get_redirect_data($target);\n\n\t\t\tURLCrawlerReportUI.block_ui($target);\n\n\t\t\treturn this.post('wds-service-redirect', redirect_data)\n\t\t\t\t.always(() => {\n\t\t\t\t\tURLCrawlerReportUI.close_dialog($target);\n\t\t\t\t\tthis.ignore_issue(issue_id);\n\t\t\t\t});\n\t\t}\n\t}\n\n\twindow.Wds = window.Wds || {};\n\twindow.Wds.URLCrawlerReport = new URLCrawlerReport();\n})(jQuery);\n"],"file":"wds-url-crawler-report.js"}